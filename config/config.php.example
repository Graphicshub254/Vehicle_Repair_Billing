<?php
// ================================================================
// VEHICLE REPAIR BILLING SYSTEM - CONFIGURATION FILE
// Version: 1.0.0
// Date: 2026-01-28
// ================================================================

// This is an example configuration file.
// Copy this file to config.php and fill in your details.

// Start session if not already started
if (session_status() === PHP_SESSION_NONE) {
    session_start();
}

// ================================================================
// DATABASE CONFIGURATION
// ================================================================

define('DB_HOST', 'localhost');
define('DB_NAME', 'vehicle_repair_billing');
define('DB_USER', 'your_database_user');  // Change this
define('DB_PASS', 'your_database_password');      // Change this
define('DB_CHARSET', 'utf8mb4');

// ================================================================
// APPLICATION CONFIGURATION
// ================================================================

define('APP_NAME', 'Vehicle Repair Billing System');
define('APP_VERSION', '1.0.0');
$protocol = (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] !== 'off') ? 'https' : 'http';
$host = $_SERVER['HTTP_HOST'];
define('APP_URL', $protocol . '://' . $host . '/vehicle_repair_billing');  // Change this if your app is not in a subfolder

// Paths
define('BASE_PATH', dirname(__DIR__));
define('UPLOAD_PATH', BASE_PATH . '/uploads');
define('INVOICE_PATH', BASE_PATH . '/invoices');
define('BACKUP_PATH', BASE_PATH . '/backups');

// Session timeout (30 minutes)
define('SESSION_TIMEOUT', 1800);

// Timezone
date_default_timezone_set('Africa/Nairobi'); // Change to your timezone

// ================================================================
// DATABASE CONNECTION
// ================================================================

try {
    $pdo = new PDO(
        "mysql:host=" . DB_HOST . ";dbname=" . DB_NAME . ";charset=" . DB_CHARSET,
        DB_USER,
        DB_PASS,
        [
            PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,
            PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,
            PDO::ATTR_EMULATE_PREPARES => false,
        ]
    );
} catch (PDOException $e) {
    die("Database connection failed. Please check your config.php settings.");
}

// ================================================================
// HELPER FUNCTIONS (No changes needed below this line)
// ================================================================

// ... (rest of the helper functions are omitted for brevity in this example)
// The actual file will contain all the helper functions from the original config.php